@model IEnumerable<ClinicaWeb.Models.Factura>
@{
    ViewBag.Title = "Listado de Facturas";
    Layout = "~/Views/Shared/_LayoutSis.cshtml";
    ViewBag.R6 = "active";
}

<div class="card">
    <div class="card-header border-0">
        <h3 class="card-title">Facturas</h3>
        <div class="card-tools">
            <form action="@Url.Action("ListFact","Facturas")" method="get" class="navbar-form navbar-right" role="search">
                <div class="input-group input-group-sm" style="width: 150px;">
                    <input type="text" id="value" name="valor" class="form-control float-right" value="@ViewBag.valor" placeholder="Search">

                    <div class="input-group-append">
                        <button type="submit" class="btn btn-default">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="card-header" data-background-color="blue">


        <h4> @ViewBag.titulo</h4>
    </div>
    <div class="card-body table-responsive p-0">
        <table class="table table-striped table-valign-middle">
            <thead>
                <tr>
                    <th>Codigo de Factura</th>
                    <th>Fecha de la Factura</th>
                    <th>Paciente</th>
                    <th>Opciones</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.CodFactura)
                        </td>
                        <td>  @Html.DisplayFor(modelItem => item.FechaFac)</td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DetalleFactura.FirstOrDefault().Orden.Paciente.Nombre_pac)
                        </td>
                        <td>
                            <a id='btnadd' href="@Url.Action("Details","Facturas", new {id = item.Id })" class='btn btn-block btn-primary'>Ver detalle</a>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
</div>


